<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    <title>Family Budget</title>
    <link rel="stylesheet" href="app-styles.css">
</head>
<body>
    <div class="container">
        <div id="homePage" class="page active">
            <div class="header">
                <div class="header-controls">
                    <button class="lang-btn-app active" data-lang="ru">RU</button>
                    <button class="lang-btn-app" data-lang="en">EN</button>
                    <button class="lang-btn-app" data-lang="uk">UA</button>
                    <button class="icon-btn" id="themeBtn">üåô</button>
                    <button class="icon-btn" onclick="logout()">üö™</button>
                </div>
                <div class="balance-card">
                    <div class="balance-label" id="balanceLabel">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                    <div class="balance-amount" id="currentBalance">$0</div>
                    <div class="sync-status">‚úì <span id="syncStatus">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ</span></div>
                </div>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label" id="incomeLabel">–î–æ—Ö–æ–¥ (–º–µ—Å—è—Ü)</div>
                        <div class="stat-value income" id="monthIncome">$0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label" id="expenseLabel">–†–∞—Å—Ö–æ–¥ (–º–µ—Å—è—Ü)</div>
                        <div class="stat-value expense" id="monthExpense">$0</div>
                    </div>
                </div>
            </div>

            <div class="section insights-section" id="insightsSection" style="display:none;">
                <div class="insights-header">
                    <span class="insights-icon">üí°</span>
                    <span class="insights-title" id="insightsTitle">–£–º–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</span>
                </div>
                <div id="insightsList"></div>
            </div>

            <div class="section calculator-section">
                <div class="calculator-header">
                    <span class="calculator-icon">üí∞</span>
                    <div class="calculator-title" id="calcTitle">–ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å</div>
                </div>
                <div class="calculator-amount" id="savingsAmount">$0</div>
                <div class="calculator-breakdown">
                    <div class="calc-row">
                        <span id="calcBalance">–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</span>
                        <span id="calcBalanceAmount">$0</span>
                    </div>
                    <div class="calc-row">
                        <span id="calcBills">–ù–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ —Å—á–µ—Ç–∞</span>
                        <span id="calcBillsAmount" class="negative">-$0</span>
                    </div>
                    <div class="calc-divider"></div>
                    <div class="calc-row total">
                        <span id="calcFree">–°–≤–æ–±–æ–¥–Ω–æ</span>
                        <span id="calcFreeAmount">$0</span>
                    </div>
                </div>
            </div>

            <div class="section goals-section">
                <div class="goals-header">
                    <div>
                        <span class="goals-icon">üéØ</span>
                        <span class="goals-title" id="goalsTitle">–¶–µ–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è</span>
                    </div>
                    <button class="btn-add-goal" onclick="showAddGoal()" id="addGoalBtn">+</button>
                </div>
                <div id="goalsList"></div>
                <div id="addGoalForm" class="add-goal-form" style="display:none;">
                    <input type="text" id="goalName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏" class="goal-input">
                    <input type="number" id="goalAmount" placeholder="–°—É–º–º–∞" step="0.01" class="goal-input">
                    <div class="goal-form-buttons">
                        <button class="btn-save-goal" onclick="saveGoal()" id="saveGoalBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button class="btn-cancel-goal" onclick="cancelGoal()" id="cancelGoalBtn">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </div>

            <div class="section subscriptions-section">
                <div class="subscription-header">
                    <div>
                        <span class="subscription-icon">üí≥</span>
                        <span class="subscription-title" id="subsTitle">–ü–æ–¥–ø–∏—Å–∫–∏</span>
                    </div>
                    <div class="subscription-total">
                        <span id="subsPerMonth">–≤ –º–µ—Å—è—Ü</span>
                        <div class="subscription-amount" id="subsTotal">$0</div>
                    </div>
                </div>
                <div id="subscriptionsList"></div>
            </div>

            <div class="section">
                <div class="section-title" id="billsTitle">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å—á–µ—Ç–∞</div>
                <div id="upcomingBills"></div>
            </div>
            <div class="section">
                <div class="section-title" id="transTitle">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</div>
                <div id="recentTransactions"></div>
            </div>

            <div class="section chart-section">
                <div class="chart-header">
                    <span class="chart-title" id="chartTitle">–¢—Ä–µ–Ω–¥ —Ä–∞—Å—Ö–æ–¥–æ–≤ (6 –º–µ—Å.)</span>
                </div>
                <div id="expenseChart"></div>
            </div>
        </div>

        <div id="addPage" class="page">
            <div class="section quick-actions-section">
                <div class="quick-actions-title" id="quickTitle">‚ö° –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</div>
                <div class="quick-buttons">
                    <button class="quick-btn income" onclick="quickIncome()" id="quickIncomeBtn">üíµ –ó–∞—Ä–ø–ª–∞—Ç–∞</button>
                    <button class="quick-btn expense" onclick="quickGroceries()" id="quickGroceriesBtn">üõí –ü—Ä–æ–¥—É–∫—Ç—ã</button>
                    <button class="quick-btn expense" onclick="quickGas()" id="quickGasBtn">‚õΩ –ë–µ–Ω–∑–∏–Ω</button>
                </div>
            </div>

            <div class="section">
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('income')" id="tabIncome">–î–æ—Ö–æ–¥</button>
                    <button class="tab" onclick="switchTab('expense')" id="tabExpense">–†–∞—Å—Ö–æ–¥</button>
                    <button class="tab" onclick="switchTab('bill')" id="tabBill">–°—á—ë—Ç</button>
                </div>
                <div id="incomeTab" class="tab-content active">
                    <form id="incomeForm">
                        <div class="form-group">
                            <label id="amountLabel1">–°—É–º–º–∞ ($)</label>
                            <input type="number" id="incomeAmount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label id="descLabel1">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <input type="text" id="incomeDescription" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞—Ä–ø–ª–∞—Ç–∞">
                        </div>
                        <div class="form-group">
                            <label id="dateLabel1">–î–∞—Ç–∞</label>
                            <input type="date" id="incomeDate" required>
                        </div>
                        <button type="submit" class="btn" id="addIncomeBtn">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</button>
                    </form>
                </div>
                <div id="expenseTab" class="tab-content">
                    <form id="expenseForm">
                        <div class="form-group">
                            <label id="amountLabel2">–°—É–º–º–∞ ($)</label>
                            <input type="number" id="expenseAmount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label id="categoryLabel">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="expenseCategory" required></select>
                        </div>
                        <div class="form-group">
                            <label id="descLabel2">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <input type="text" id="expenseDescription">
                        </div>
                        <div class="form-group">
                            <label id="dateLabel2">–î–∞—Ç–∞</label>
                            <input type="date" id="expenseDate" required>
                        </div>
                        <button type="submit" class="btn" id="addExpenseBtn">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</button>
                    </form>
                </div>
                <div id="billTab" class="tab-content">
                    <form id="billForm">
                        <div class="form-group">
                            <label id="billNameLabel">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—á—ë—Ç–∞</label>
                            <input type="text" id="billName" required>
                        </div>
                        <div class="form-group">
                            <label id="amountLabel3">–°—É–º–º–∞ ($)</label>
                            <input type="number" id="billAmount" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label id="dueLabel">–°—Ä–æ–∫ –æ–ø–ª–∞—Ç—ã</label>
                            <input type="date" id="billDue" required>
                        </div>
                        <div class="form-group">
                            <label id="categoryLabel2">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select id="billCategory" required></select>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="billRecurring">
                            <label for="billRecurring" id="recurringLabel">–†–µ–≥—É–ª—è—Ä–Ω—ã–π –ø–ª–∞—Ç—ë–∂</label>
                        </div>
                        <button type="submit" class="btn" id="addBillBtn">–î–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç</button>
                    </form>
                </div>
            </div>
        </div>
        <div id="transactionsPage" class="page">
            <div class="section">
                <div class="section-header">
                    <div class="section-title" id="allTransTitle">–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</div>
                    <button class="btn-export" onclick="exportToExcel()" id="exportBtn">üìä Excel</button>
                </div>
                <div class="transaction-list" id="allTransactions"></div>
            </div>
        </div>
        <div id="statsPage" class="page">
            <div class="section">
                <div class="section-title" id="statsTitle">–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                <div id="categoryStats"></div>
            </div>
        </div>
    </div>
    <div class="bottom-nav">
        <div class="nav-item active" onclick="navigateTo('home')">
            <div class="nav-icon">üè†</div>
            <div class="nav-label" id="navHome">–ì–ª–∞–≤–Ω–∞—è</div>
        </div>
        <div class="nav-item" onclick="navigateTo('add')">
            <div class="nav-icon">‚ûï</div>
            <div class="nav-label" id="navAdd">–î–æ–±–∞–≤–∏—Ç—å</div>
        </div>
        <div class="nav-item" onclick="navigateTo('transactions')">
            <div class="nav-icon">üìã</div>
            <div class="nav-label" id="navHistory">–ò—Å—Ç–æ—Ä–∏—è</div>
        </div>
        <div class="nav-item" onclick="navigateTo('stats')">
            <div class="nav-icon">üìä</div>
            <div class="nav-label" id="navStats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
        </div>
    </div>
    <script src="translations.js"></script>
    <script src="app.js"></script>
</body>
</html>
